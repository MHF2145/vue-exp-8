{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex flex-col items-center\"\n};\nconst _hoisted_2 = {\n  class: \"mt-4\"\n};\nconst _hoisted_3 = [\"value\"];\nconst _hoisted_4 = {\n  key: 1,\n  class: \"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-4 mt-6 w-full px-4\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = [\"src\", \"alt\"];\nconst _hoisted_7 = {\n  class: \"text-lg font-semibold truncate\"\n};\nconst _hoisted_8 = {\n  key: 2,\n  class: \"flex space-x-4 mt-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_PopUp = _resolveComponent(\"PopUp\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.selectedPokemon ? (_openBlock(), _createBlock(_component_PopUp, {\n    key: 0,\n    pokemon: $data.selectedPokemon,\n    onClose: _cache[0] || (_cache[0] = $event => $data.selectedPokemon = null),\n    onFavorite: $options.markFavorite,\n    onSwitch: $options.switchPokemon\n  }, null, 8 /* PROPS */, [\"pokemon\", \"onFavorite\", \"onSwitch\"])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.selectedGeneration = $event),\n    onChange: _cache[2] || (_cache[2] = $event => $options.fetchPokemon($data.selectedGeneration)),\n    class: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\"\n  }, [_cache[5] || (_cache[5] = _createElementVNode(\"option\", {\n    disabled: \"\",\n    value: \"\"\n  }, \"Select Generation\", -1 /* HOISTED */)), (_openBlock(), _createElementBlock(_Fragment, null, _renderList(9, i => {\n    return _createElementVNode(\"option\", {\n      key: i,\n      value: i\n    }, \" Gen \" + _toDisplayString(i), 9 /* TEXT, PROPS */, _hoisted_3);\n  }), 64 /* STABLE_FRAGMENT */))], 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $data.selectedGeneration]])]), $data.selectedGeneration ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.paginatedPokemon, pokemon => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: pokemon.id,\n      class: \"bg-white rounded shadow p-2 flex flex-col items-center justify-center\",\n      onClick: $event => $options.showPopup(pokemon)\n    }, [_createElementVNode(\"img\", {\n      src: pokemon.sprite,\n      alt: pokemon.name,\n      class: \"w-full h-auto object-contain mb-2\"\n    }, null, 8 /* PROPS */, _hoisted_6), _createElementVNode(\"h2\", _hoisted_7, _toDisplayString(pokemon.name), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_5);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), $data.selectedGeneration ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [$data.currentPage > 1 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.prevPage && $options.prevPage(...args)),\n    class: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\"\n  }, \" Previous \")) : _createCommentVNode(\"v-if\", true), $data.currentPage < $options.totalPages ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.nextPage && $options.nextPage(...args)),\n    class: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\"\n  }, \" Next \")) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","$data","selectedPokemon","_createBlock","_component_PopUp","pokemon","onClose","_cache","$event","onFavorite","$options","markFavorite","onSwitch","switchPokemon","_createCommentVNode","_createElementVNode","_hoisted_2","selectedGeneration","onChange","fetchPokemon","disabled","value","_Fragment","_renderList","i","_toDisplayString","_hoisted_3","_hoisted_4","paginatedPokemon","id","onClick","showPopup","src","sprite","alt","name","_hoisted_6","_hoisted_7","_hoisted_5","_hoisted_8","currentPage","args","prevPage","totalPages","nextPage"],"sources":["/Users/hares/Downloads/vue-exp-8-sementara/client/src/components/GenButton.vue"],"sourcesContent":["<template>\r\n  <div class=\"flex flex-col items-center\">\r\n    <PopUp v-if=\"selectedPokemon\" :pokemon=\"selectedPokemon\" @close=\"selectedPokemon = null\" @favorite=\"markFavorite\"\r\n      @switch=\"switchPokemon\" />\r\n\r\n    <div class=\"mt-4\">\r\n      <select v-model=\"selectedGeneration\" @change=\"fetchPokemon(selectedGeneration)\"\r\n        class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\">\r\n        <option disabled value=\"\">Select Generation</option>\r\n        <option v-for=\"i in 9\" :key=\"i\" :value=\"i\">\r\n          Gen {{ i }}\r\n        </option>\r\n      </select>\r\n    </div>\r\n\r\n    <div v-if=\"selectedGeneration\"\r\n      class=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-4 mt-6 w-full px-4\">\r\n      <button v-for=\"pokemon in paginatedPokemon\" :key=\"pokemon.id\"\r\n        class=\"bg-white rounded shadow p-2 flex flex-col items-center justify-center\" @click=\"showPopup(pokemon)\">\r\n        <img :src=\"pokemon.sprite\" :alt=\"pokemon.name\" class=\"w-full h-auto object-contain mb-2\" />\r\n        <h2 class=\"text-lg font-semibold truncate\">{{ pokemon.name }}</h2>\r\n      </button>\r\n    </div>\r\n\r\n    <div v-if=\"selectedGeneration\" class=\"flex space-x-4 mt-4\">\r\n      <button v-if=\"currentPage > 1\" @click=\"prevPage\"\r\n        class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\">\r\n        Previous\r\n      </button>\r\n      <button v-if=\"currentPage < totalPages\" @click=\"nextPage\"\r\n        class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\">\r\n        Next\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PopUp from \"./PopUp.vue\";\r\n\r\nexport default {\r\n  components: { PopUp },\r\n  data() {\r\n    return {\r\n      pokemonList: [],\r\n      selectedGeneration: null,\r\n      currentPage: 1,\r\n      itemsPerPage: 24,\r\n      selectedPokemon: null,\r\n      favorites: [], // Track favorited Pokémon\r\n    };\r\n  },\r\n  computed: {\r\n    totalPages() {\r\n      return Math.ceil(this.pokemonList.length / this.itemsPerPage);\r\n    },\r\n    paginatedPokemon() {\r\n      const start = (this.currentPage - 1) * this.itemsPerPage;\r\n      const end = start + this.itemsPerPage;\r\n      return this.pokemonList.slice(start, end);\r\n    },\r\n  },\r\n  methods: {\r\n    async fetchPokemon(gen) {\r\n      this.pokemonList = [];\r\n      this.currentPage = 1;\r\n      const genRanges = [\r\n        { gen: 1, range: [1, 151] },\r\n        { gen: 2, range: [152, 251] },\r\n        { gen: 3, range: [252, 386] },\r\n        { gen: 4, range: [387, 494] },\r\n        { gen: 5, range: [495, 649] },\r\n        { gen: 6, range: [650, 722] },\r\n        { gen: 7, range: [723, 809] },\r\n        { gen: 8, range: [810, 906] },\r\n        { gen: 9, range: [907, 1025] },\r\n      ];\r\n      const range = genRanges.find((g) => g.gen === gen)?.range;\r\n      if (range) {\r\n        for (let id = range[0]; id <= range[1]; id++) {\r\n          await this.fetchAndStorePokemon(id);\r\n        }\r\n      }\r\n    },\r\n    async fetchAndStorePokemon(id) {\r\n      try {\r\n        const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`);\r\n        const data = await response.json();\r\n        this.pokemonList.push({\r\n          id: data.id,\r\n          name: data.name,\r\n          height: data.height / 10, // Height in meters\r\n          types: data.types,\r\n          abilities: data.abilities,\r\n          sprite: data.sprites.front_default,\r\n        });\r\n      } catch (error) {\r\n        console.error(`Error fetching data for Pokémon ID ${id}:`, error);\r\n      }\r\n    },\r\n    showPopup(pokemon) {\r\n      this.selectedPokemon = pokemon;\r\n    },\r\n    markFavorite(pokemon) {\r\n      if (!this.favorites.find((fav) => fav.id === pokemon.id)) {\r\n        this.favorites.push(pokemon);\r\n        console.log(`${pokemon.name} added to favorites.`);\r\n      }\r\n    },\r\n    switchPokemon(direction) {\r\n      const currentIndex = this.pokemonList.findIndex(p => p.id === this.selectedPokemon.id);\r\n      if (direction === 'next' && currentIndex < this.pokemonList.length - 1) {\r\n        this.selectedPokemon = this.pokemonList[currentIndex + 1];\r\n      } else if (direction === 'previous' && currentIndex > 0) { // Update this line\r\n        this.selectedPokemon = this.pokemonList[currentIndex - 1];\r\n      }\r\n    }\r\n    ,\r\n    nextPage() {\r\n      if (this.currentPage < this.totalPages) {\r\n        this.currentPage++;\r\n      }\r\n    },\r\n    prevPage() {\r\n      if (this.currentPage > 1) {\r\n        this.currentPage--;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nimg {\r\n  max-height: 150px;\r\n}\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAA4B;;EAIhCA,KAAK,EAAC;AAAM;mBALrB;;EAAAC,GAAA;EAgBMD,KAAK,EAAC;;mBAhBZ;mBAAA;;EAoBYA,KAAK,EAAC;AAAgC;;EApBlDC,GAAA;EAwBmCD,KAAK,EAAC;;;;uBAvBvCE,mBAAA,CAiCM,OAjCNC,UAiCM,GAhCSC,KAAA,CAAAC,eAAe,I,cAA5BC,YAAA,CAC4BC,gBAAA;IAHhCN,GAAA;IAEmCO,OAAO,EAAEJ,KAAA,CAAAC,eAAe;IAAGI,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEP,KAAA,CAAAC,eAAe;IAAUO,UAAQ,EAAEC,QAAA,CAAAC,YAAY;IAC7GC,QAAM,EAAEF,QAAA,CAAAG;oEAHfC,mBAAA,gBAKIC,mBAAA,CAQM,OARNC,UAQM,G,gBAPJD,mBAAA,CAMS;IAZf,uBAAAR,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAMuBP,KAAA,CAAAgB,kBAAkB,GAAAT,MAAA;IAAGU,QAAM,EAAAX,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEE,QAAA,CAAAS,YAAY,CAAClB,KAAA,CAAAgB,kBAAkB;IAC3EpB,KAAK,EAAC;gCACNkB,mBAAA,CAAoD;IAA5CK,QAAQ,EAAR,EAAQ;IAACC,KAAK,EAAC;KAAG,mBAAiB,uB,cAC3CtB,mBAAA,CAESuB,SAAA,QAXjBC,WAAA,CAS4B,CAAC,EAANC,CAAC;WAAhBT,mBAAA,CAES;MAFejB,GAAG,EAAE0B,CAAC;MAAGH,KAAK,EAAEG;OAAG,OACrC,GAAAC,gBAAA,CAAGD,CAAC,wBAVlBE,UAAA;2FAMuBzB,KAAA,CAAAgB,kBAAkB,E,KAS1BhB,KAAA,CAAAgB,kBAAkB,I,cAA7BlB,mBAAA,CAOM,OAPN4B,UAOM,I,kBALJ5B,mBAAA,CAISuB,SAAA,QArBfC,WAAA,CAiBgCb,QAAA,CAAAkB,gBAAgB,EAA3BvB,OAAO;yBAAtBN,mBAAA,CAIS;MAJoCD,GAAG,EAAEO,OAAO,CAACwB,EAAE;MAC1DhC,KAAK,EAAC,uEAAuE;MAAEiC,OAAK,EAAAtB,MAAA,IAAEE,QAAA,CAAAqB,SAAS,CAAC1B,OAAO;QACvGU,mBAAA,CAA2F;MAArFiB,GAAG,EAAE3B,OAAO,CAAC4B,MAAM;MAAGC,GAAG,EAAE7B,OAAO,CAAC8B,IAAI;MAAEtC,KAAK,EAAC;4BAnB7DuC,UAAA,GAoBQrB,mBAAA,CAAkE,MAAlEsB,UAAkE,EAAAZ,gBAAA,CAApBpB,OAAO,CAAC8B,IAAI,iB,iBApBlEG,UAAA;sCAAAxB,mBAAA,gBAwBeb,KAAA,CAAAgB,kBAAkB,I,cAA7BlB,mBAAA,CASM,OATNwC,UASM,GARUtC,KAAA,CAAAuC,WAAW,Q,cAAzBzC,mBAAA,CAGS;IA5BfD,GAAA;IAyBsCgC,OAAK,EAAAvB,MAAA,QAAAA,MAAA,UAAAkC,IAAA,KAAE/B,QAAA,CAAAgC,QAAA,IAAAhC,QAAA,CAAAgC,QAAA,IAAAD,IAAA,CAAQ;IAC7C5C,KAAK,EAAC;KAAqF,YAE7F,KA5BNiB,mBAAA,gBA6BoBb,KAAA,CAAAuC,WAAW,GAAG9B,QAAA,CAAAiC,UAAU,I,cAAtC5C,mBAAA,CAGS;IAhCfD,GAAA;IA6B+CgC,OAAK,EAAAvB,MAAA,QAAAA,MAAA,UAAAkC,IAAA,KAAE/B,QAAA,CAAAkC,QAAA,IAAAlC,QAAA,CAAAkC,QAAA,IAAAH,IAAA,CAAQ;IACtD5C,KAAK,EAAC;KAAqF,QAE7F,KAhCNiB,mBAAA,e,KAAAA,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}