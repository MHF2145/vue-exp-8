{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\"\n};\nconst _hoisted_2 = {\n  class: \"bg-white rounded-lg shadow-lg p-6 w-11/12 md:w-1/2 text-center\"\n};\nconst _hoisted_3 = {\n  class: \"flex justify-between items-center\"\n};\nconst _hoisted_4 = {\n  class: \"text-xl font-semibold\"\n};\nconst _hoisted_5 = [\"src\", \"alt\"];\nconst _hoisted_6 = {\n  class: \"flex justify-center mb-4\"\n};\nconst _hoisted_7 = {\n  class: \"mr-4\"\n};\nconst _hoisted_8 = {\n  class: \"mb-4\"\n};\nconst _hoisted_9 = {\n  class: \"flex space-x-2 justify-center\"\n};\nconst _hoisted_10 = {\n  class: \"mb-4\"\n};\nconst _hoisted_11 = {\n  class: \"flex space-x-2 justify-center\"\n};\nconst _hoisted_12 = {\n  class: \"mb-4\"\n};\nconst _hoisted_13 = {\n  class: \"flex space-x-2 justify-center\"\n};\nconst _hoisted_14 = {\n  class: \"mb-4\"\n};\nconst _hoisted_15 = {\n  class: \"flex justify-center\"\n};\nconst _hoisted_16 = [\"src\"];\nconst _hoisted_17 = {\n  class: \"flex justify-center items-center space-x-4 my-4\"\n};\nconst _hoisted_18 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"h2\", _hoisted_4, _toDisplayString($props.pokemon.id) + \" - \" + _toDisplayString($props.pokemon.name), 1), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$emit('close')),\n    class: \"text-red-500\"\n  }, \"X\")]), _createElementVNode(\"img\", {\n    src: $data.currentSprite,\n    alt: $props.pokemon.name,\n    class: \"sprite my-4 mx-auto\"\n  }, null, 8, _hoisted_5), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"p\", _hoisted_7, [_cache[4] || (_cache[4] = _createElementVNode(\"strong\", null, \"Height:\", -1)), _createTextVNode(\" \" + _toDisplayString($props.pokemon.height) + \" m\", 1)]), _createElementVNode(\"p\", null, [_cache[5] || (_cache[5] = _createElementVNode(\"strong\", null, \"Weight:\", -1)), _createTextVNode(\" \" + _toDisplayString($props.pokemon.weight) + \" kg\", 1)])]), _createElementVNode(\"div\", _hoisted_8, [_cache[6] || (_cache[6] = _createElementVNode(\"p\", null, [_createElementVNode(\"strong\", null, \"Abilities:\")], -1)), _createElementVNode(\"ul\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.pokemon.abilities, ability => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: ability.ability.name,\n      class: \"bg-gray-200 rounded px-2 py-1\"\n    }, _toDisplayString(ability.ability.name), 1);\n  }), 128))])]), _createElementVNode(\"div\", _hoisted_10, [_cache[7] || (_cache[7] = _createElementVNode(\"p\", null, [_createElementVNode(\"strong\", null, \"Top 4 Moves Learned:\")], -1)), _createElementVNode(\"ul\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.topMoves, move => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: move.move.name,\n      class: \"bg-gray-200 rounded px-2 py-1\"\n    }, _toDisplayString(move.move.name), 1);\n  }), 128))])]), _createElementVNode(\"div\", _hoisted_12, [_cache[8] || (_cache[8] = _createElementVNode(\"p\", null, [_createElementVNode(\"strong\", null, \"Types:\")], -1)), _createElementVNode(\"ul\", _hoisted_13, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.pokemon.types, type => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: type.type.name,\n      class: \"bg-gray-200 rounded px-2 py-1\"\n    }, _toDisplayString(type.type.name), 1);\n  }), 128))])]), _createElementVNode(\"div\", _hoisted_14, [_cache[9] || (_cache[9] = _createElementVNode(\"p\", null, [_createElementVNode(\"strong\", null, \"Cry:\")], -1)), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"audio\", {\n    controls: \"\",\n    src: $options.pokemonCry,\n    type: \"audio/mpeg\"\n  }, \" Your browser does not support the audio element. \", 8, _hoisted_16)])]), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $options.switchPokemon('previous')),\n    class: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\"\n  }, \" Previous \"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $options.switchPokemon('next')),\n    class: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\"\n  }, \" Next \")]), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.markAsFavorite && $options.markAsFavorite(...args)),\n    class: _normalizeClass([{\n      'bg-green-500': !$data.isFavorited,\n      'bg-gray-400': $data.isFavorited\n    }, \"mt-4 px-4 py-2 text-white rounded hover:bg-green-700 transition duration-200\"]),\n    disabled: $data.isFavorited\n  }, _toDisplayString($data.isFavorited ? 'Favorited' : 'Favorite'), 11, _hoisted_18)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$props","pokemon","id","name","onClick","_cache","$event","_ctx","$emit","src","$data","currentSprite","alt","_hoisted_5","_hoisted_6","_hoisted_7","_createTextVNode","height","weight","_hoisted_8","_hoisted_9","_Fragment","_renderList","abilities","ability","key","_hoisted_10","_hoisted_11","topMoves","move","_hoisted_12","_hoisted_13","types","type","_hoisted_14","_hoisted_15","controls","$options","pokemonCry","_hoisted_16","_hoisted_17","switchPokemon","args","markAsFavorite","_normalizeClass","isFavorited","disabled","_hoisted_18"],"sources":["/Users/hares/Downloads/vue-exp-8-sementara/client/src/components/PopUp.vue"],"sourcesContent":["<template>\r\n    <div class=\"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50\">\r\n        <div class=\"bg-white rounded-lg shadow-lg p-6 w-11/12 md:w-1/2 text-center\">\r\n            <div class=\"flex justify-between items-center\">\r\n                <h2 class=\"text-xl font-semibold\">\r\n                    {{ pokemon.id }} - {{ pokemon.name }}\r\n                </h2>\r\n                <button @click=\"$emit('close')\" class=\"text-red-500\">X</button>\r\n            </div>\r\n            <img :src=\"currentSprite\" :alt=\"pokemon.name\" class=\"sprite my-4 mx-auto\" />\r\n\r\n            <div class=\"flex justify-center mb-4\">\r\n                <p class=\"mr-4\"><strong>Height:</strong> {{ pokemon.height }} m</p>\r\n                <p><strong>Weight:</strong> {{ pokemon.weight }} kg</p>\r\n            </div>\r\n            <div class=\"mb-4\">\r\n                <p><strong>Abilities:</strong></p>\r\n                <ul class=\"flex space-x-2 justify-center\">\r\n                    <li v-for=\"ability in pokemon.abilities\" :key=\"ability.ability.name\"\r\n                        class=\"bg-gray-200 rounded px-2 py-1\">\r\n                        {{ ability.ability.name }}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"mb-4\">\r\n                <p><strong>Top 4 Moves Learned:</strong></p>\r\n                <ul class=\"flex space-x-2 justify-center\">\r\n                    <li v-for=\"move in topMoves\" :key=\"move.move.name\" class=\"bg-gray-200 rounded px-2 py-1\">\r\n                        {{ move.move.name }}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"mb-4\">\r\n                <p><strong>Types:</strong></p>\r\n                <ul class=\"flex space-x-2 justify-center\">\r\n                    <li v-for=\"type in pokemon.types\" :key=\"type.type.name\" class=\"bg-gray-200 rounded px-2 py-1\">\r\n                        {{ type.type.name }}\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"mb-4\">\r\n                <p><strong>Cry:</strong></p>\r\n                <div class=\"flex justify-center\">\r\n                    <audio controls :src=\"pokemonCry\" type=\"audio/mpeg\">\r\n                        Your browser does not support the audio element.\r\n                    </audio>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- Navigation Buttons -->\r\n            <div class=\"flex justify-center items-center space-x-4 my-4\">\r\n                <button @click=\"switchPokemon('previous')\"\r\n                    class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\">\r\n                    Previous\r\n                </button>\r\n                <button @click=\"switchPokemon('next')\"\r\n                    class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\">\r\n                    Next\r\n                </button>\r\n            </div>\r\n\r\n            <!-- Tombol Favorit -->\r\n            <button @click=\"markAsFavorite\"\r\n                :class=\"{\r\n                    'bg-green-500': !isFavorited,\r\n                    'bg-gray-400': isFavorited,\r\n                }\"\r\n                class=\"mt-4 px-4 py-2 text-white rounded hover:bg-green-700 transition duration-200\"\r\n                :disabled=\"isFavorited\">\r\n                {{ isFavorited ? 'Favorited' : 'Favorite' }}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        pokemon: {\r\n            type: Object,\r\n            required: true,\r\n        },\r\n    },\r\n    data() {\r\n        return {\r\n            currentSprite: this.pokemon.sprite,\r\n            topMoves: [],\r\n            isFavorited: false, // Status favorit\r\n        };\r\n    },\r\n    computed: {\r\n        pokemonCry() {\r\n            return `https://play.pokemonshowdown.com/audio/cries/${this.pokemon.name}.mp3`;\r\n        },\r\n    },\r\n    methods: {\r\n        async fetchTopMoves() {\r\n            const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${this.pokemon.id}`);\r\n            const data = await response.json();\r\n            this.topMoves = data.moves.slice(0, 4); \r\n        },\r\n        async markAsFavorite() {\r\n        if (this.isFavorited) return;\r\n\r\n        \r\n        const token = localStorage.getItem('token');\r\n        \r\n        if (!token) {\r\n            alert('Token tidak ditemukan. Anda harus login terlebih dahulu.');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Mengirim request untuk menambahkan Pokémon ke favorit\r\n            const response = await fetch('http://localhost:3000/favorite-pokemons', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`, \r\n                },\r\n                body: JSON.stringify({ pokemonId: this.pokemon.id }),\r\n            });\r\n\r\n            const data = await response.json();\r\n            if (response.ok) {\r\n                this.isFavorited = true; // Tandai sebagai favorit\r\n                alert('Pokémon berhasil ditambahkan ke favorit!');\r\n            } else {\r\n                alert('Gagal menambahkan Pokémon ke favorit: ' + data.message);\r\n            }\r\n        } catch (err) {\r\n            console.error('Error adding to favorites:', err);\r\n            alert('Terjadi kesalahan saat menambahkan Pokémon ke favorit.');\r\n        }\r\n    },\r\n\r\n        switchPokemon(direction) {\r\n            this.$emit('switch', direction);\r\n        },\r\n    },\r\n    watch: {\r\n        pokemon: {\r\n            immediate: true,\r\n            handler(newPokemon) {\r\n                this.currentSprite = newPokemon.sprite; // Update sprite saat Pokémon berubah\r\n                this.fetchTopMoves(); // Fetch moves baru saat Pokémon berubah\r\n                // computed property pokemonCry akan otomatis mereturn URL cry yang baru\r\n                this.isFavorited = false; // Reset favorit jika Pokémon berubah\r\n            },\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.fixed {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n}\r\n\r\n.sprite {\r\n    width: 3cm;\r\n    /* Set width to 3cm */\r\n    height: 3cm;\r\n    /* Set height to 3cm for 1:1 aspect ratio */\r\n    object-fit: contain;\r\n    /* Ensures the image fits well in the box */\r\n}\r\n\r\n.favorite-btn {\r\n    cursor: pointer;\r\n}\r\n\r\n.popup-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, 0.7);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 50;\r\n}\r\n\r\n.popup-content {\r\n    background: white;\r\n    padding: 20px;\r\n    border-radius: 8px;\r\n    width: 300px;\r\n    max-width: 90%;\r\n    text-align: center;\r\n    position: relative;\r\n}\r\n\r\n.close-btn {\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 10px;\r\n    background: transparent;\r\n    border: none;\r\n    font-size: 1.5rem;\r\n    cursor: pointer;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}