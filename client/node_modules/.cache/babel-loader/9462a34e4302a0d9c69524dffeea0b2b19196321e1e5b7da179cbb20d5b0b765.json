{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex flex-col items-center\"\n};\nconst _hoisted_2 = {\n  class: \"mt-4\"\n};\nconst _hoisted_3 = [\"value\"];\nconst _hoisted_4 = {\n  key: 1,\n  class: \"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-4 mt-6 w-full px-4\"\n};\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = [\"src\", \"alt\"];\nconst _hoisted_7 = {\n  class: \"text-lg font-semibold truncate\"\n};\nconst _hoisted_8 = {\n  key: 2,\n  class: \"flex space-x-4 mt-4\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_PopUpGuest = _resolveComponent(\"PopUpGuest\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.selectedPokemon ? (_openBlock(), _createBlock(_component_PopUpGuest, {\n    key: 0,\n    pokemon: $data.selectedPokemon,\n    onClose: _cache[0] || (_cache[0] = $event => $data.selectedPokemon = null),\n    onFavorite: $options.markFavorite,\n    onSwitch: $options.switchPokemon\n  }, null, 8 /* PROPS */, [\"pokemon\", \"onFavorite\", \"onSwitch\"])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.selectedGeneration = $event),\n    onChange: _cache[2] || (_cache[2] = $event => $options.fetchPokemon($data.selectedGeneration)),\n    class: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\"\n  }, [_cache[5] || (_cache[5] = _createElementVNode(\"option\", {\n    disabled: \"\",\n    value: \"\"\n  }, \"Select Generation\", -1 /* HOISTED */)), (_openBlock(), _createElementBlock(_Fragment, null, _renderList(9, i => {\n    return _createElementVNode(\"option\", {\n      key: i,\n      value: i\n    }, \" Gen \" + _toDisplayString(i), 9 /* TEXT, PROPS */, _hoisted_3);\n  }), 64 /* STABLE_FRAGMENT */))], 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelSelect, $data.selectedGeneration]])]), $data.selectedGeneration ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.paginatedPokemon, pokemon => {\n    return _openBlock(), _createElementBlock(\"button\", {\n      key: pokemon.id,\n      class: \"bg-white rounded shadow p-2 flex flex-col items-center justify-center\",\n      onClick: $event => $options.showPopup(pokemon)\n    }, [_createElementVNode(\"img\", {\n      src: pokemon.sprite,\n      alt: pokemon.name,\n      class: \"w-full h-auto object-contain mb-2\"\n    }, null, 8 /* PROPS */, _hoisted_6), _createElementVNode(\"h2\", _hoisted_7, _toDisplayString(pokemon.name), 1 /* TEXT */)], 8 /* PROPS */, _hoisted_5);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), $data.selectedGeneration ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [$data.currentPage > 1 ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.prevPage && $options.prevPage(...args)),\n    class: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\"\n  }, \" Previous \")) : _createCommentVNode(\"v-if\", true), $data.currentPage < $options.totalPages ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 1,\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.nextPage && $options.nextPage(...args)),\n    class: \"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\"\n  }, \" Next \")) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","$data","selectedPokemon","_createBlock","_component_PopUpGuest","pokemon","onClose","_cache","$event","onFavorite","$options","markFavorite","onSwitch","switchPokemon","_createCommentVNode","_createElementVNode","_hoisted_2","selectedGeneration","onChange","fetchPokemon","disabled","value","_Fragment","_renderList","i","_toDisplayString","_hoisted_3","_hoisted_4","paginatedPokemon","id","onClick","showPopup","src","sprite","alt","name","_hoisted_6","_hoisted_7","_hoisted_5","_hoisted_8","currentPage","args","prevPage","totalPages","nextPage"],"sources":["/Users/hares/Downloads/vue-exp-8-sementara/client/src/components/GenButtonGuest.vue"],"sourcesContent":["<template>\n    <div class=\"flex flex-col items-center\">\n        <PopUpGuest v-if=\"selectedPokemon\" :pokemon=\"selectedPokemon\" @close=\"selectedPokemon = null\"\n            @favorite=\"markFavorite\" @switch=\"switchPokemon\" />\n\n        <div class=\"mt-4\">\n            <select v-model=\"selectedGeneration\" @change=\"fetchPokemon(selectedGeneration)\"\n                class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\">\n                <option disabled value=\"\">Select Generation</option>\n                <option v-for=\"i in 9\" :key=\"i\" :value=\"i\">\n                    Gen {{ i }}\n                </option>\n            </select>\n        </div>\n\n        <div v-if=\"selectedGeneration\"\n            class=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-4 mt-6 w-full px-4\">\n            <button v-for=\"pokemon in paginatedPokemon\" :key=\"pokemon.id\"\n                class=\"bg-white rounded shadow p-2 flex flex-col items-center justify-center\"\n                @click=\"showPopup(pokemon)\">\n                <img :src=\"pokemon.sprite\" :alt=\"pokemon.name\" class=\"w-full h-auto object-contain mb-2\" />\n                <h2 class=\"text-lg font-semibold truncate\">{{ pokemon.name }}</h2>\n            </button>\n        </div>\n\n        <div v-if=\"selectedGeneration\" class=\"flex space-x-4 mt-4\">\n            <button v-if=\"currentPage > 1\" @click=\"prevPage\"\n                class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\">\n                Previous\n            </button>\n            <button v-if=\"currentPage < totalPages\" @click=\"nextPage\"\n                class=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-700 transition duration-200\">\n                Next\n            </button>\n        </div>\n    </div>\n</template>\n\n<script>\n// Import PopUpGuest instead of PopUp\nimport PopUpGuest from \"./PopUpGuest.vue\";\n\nexport default {\n    components: { PopUpGuest },\n    data() {\n        return {\n            pokemonList: [],\n            selectedGeneration: null,\n            currentPage: 1,\n            itemsPerPage: 24,\n            selectedPokemon: null,\n            favorites: [], // Track favorited Pokémon\n        };\n    },\n    computed: {\n        totalPages() {\n            return Math.ceil(this.pokemonList.length / this.itemsPerPage);\n        },\n        paginatedPokemon() {\n            const start = (this.currentPage - 1) * this.itemsPerPage;\n            const end = start + this.itemsPerPage;\n            return this.pokemonList.slice(start, end);\n        },\n    },\n    methods: {\n        async fetchPokemon(gen) {\n            this.pokemonList = [];\n            this.currentPage = 1;\n            const genRanges = [\n                { gen: 1, range: [1, 151] },\n                { gen: 2, range: [152, 251] },\n                { gen: 3, range: [252, 386] },\n                { gen: 4, range: [387, 494] },\n                { gen: 5, range: [495, 649] },\n                { gen: 6, range: [650, 722] },\n                { gen: 7, range: [723, 809] },\n                { gen: 8, range: [810, 906] },\n                { gen: 9, range: [907, 1025] },\n            ];\n            const range = genRanges.find((g) => g.gen === gen)?.range;\n            if (range) {\n                for (let id = range[0]; id <= range[1]; id++) {\n                    await this.fetchAndStorePokemon(id);\n                }\n            }\n        },\n        async fetchAndStorePokemon(id) {\n            try {\n                const response = await fetch(`https://pokeapi.co/api/v2/pokemon/${id}`);\n                const data = await response.json();\n                this.pokemonList.push({\n                    id: data.id,\n                    name: data.name,\n                    height: data.height / 10, // Height in meters\n                    types: data.types,\n                    abilities: data.abilities,\n                    sprite: data.sprites.front_default,\n                });\n            } catch (error) {\n                console.error(`Error fetching data for Pokémon ID ${id}:`, error);\n            }\n        },\n        showPopup(pokemon) {\n            this.selectedPokemon = pokemon;\n        },\n        markFavorite(pokemon) {\n            if (!this.favorites.find((fav) => fav.id === pokemon.id)) {\n                this.favorites.push(pokemon);\n                console.log(`${pokemon.name} added to favorites.`);\n            }\n        },\n        switchPokemon(direction) {\n            const currentIndex = this.pokemonList.findIndex(p => p.id === this.selectedPokemon.id);\n            if (direction === 'next' && currentIndex < this.pokemonList.length - 1) {\n                this.selectedPokemon = this.pokemonList[currentIndex + 1];\n            } else if (direction === 'previous' && currentIndex > 0) { // Update this line\n                this.selectedPokemon = this.pokemonList[currentIndex - 1];\n            }\n        },\n        nextPage() {\n            if (this.currentPage < this.totalPages) {\n                this.currentPage++;\n            }\n        },\n        prevPage() {\n            if (this.currentPage > 1) {\n                this.currentPage--;\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\nimg {\n    max-height: 150px;\n}\n</style>"],"mappings":";;EACSA,KAAK,EAAC;AAA4B;;EAI9BA,KAAK,EAAC;AAAM;mBALzB;;EAAAC,GAAA;EAgBYD,KAAK,EAAC;;mBAhBlB;mBAAA;;EAqBoBA,KAAK,EAAC;AAAgC;;EArB1DC,GAAA;EAyBuCD,KAAK,EAAC;;;;uBAxBzCE,mBAAA,CAkCM,OAlCNC,UAkCM,GAjCgBC,KAAA,CAAAC,eAAe,I,cAAjCC,YAAA,CACuDC,qBAAA;IAH/DN,GAAA;IAE4CO,OAAO,EAAEJ,KAAA,CAAAC,eAAe;IAAGI,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEP,KAAA,CAAAC,eAAe;IAChFO,UAAQ,EAAEC,QAAA,CAAAC,YAAY;IAAGC,QAAM,EAAEF,QAAA,CAAAG;oEAH9CC,mBAAA,gBAKQC,mBAAA,CAQM,OARNC,UAQM,G,gBAPFD,mBAAA,CAMS;IAZrB,uBAAAR,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAM6BP,KAAA,CAAAgB,kBAAkB,GAAAT,MAAA;IAAGU,QAAM,EAAAX,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEE,QAAA,CAAAS,YAAY,CAAClB,KAAA,CAAAgB,kBAAkB;IACzEpB,KAAK,EAAC;gCACNkB,mBAAA,CAAoD;IAA5CK,QAAQ,EAAR,EAAQ;IAACC,KAAK,EAAC;KAAG,mBAAiB,uB,cAC3CtB,mBAAA,CAESuB,SAAA,QAXzBC,WAAA,CASoC,CAAC,EAANC,CAAC;WAAhBT,mBAAA,CAES;MAFejB,GAAG,EAAE0B,CAAC;MAAGH,KAAK,EAAEG;OAAG,OACnC,GAAAC,gBAAA,CAAGD,CAAC,wBAV5BE,UAAA;2FAM6BzB,KAAA,CAAAgB,kBAAkB,E,KAS5BhB,KAAA,CAAAgB,kBAAkB,I,cAA7BlB,mBAAA,CAQM,OARN4B,UAQM,I,kBANF5B,mBAAA,CAKSuB,SAAA,QAtBrBC,WAAA,CAiBsCb,QAAA,CAAAkB,gBAAgB,EAA3BvB,OAAO;yBAAtBN,mBAAA,CAKS;MALoCD,GAAG,EAAEO,OAAO,CAACwB,EAAE;MACxDhC,KAAK,EAAC,uEAAuE;MAC5EiC,OAAK,EAAAtB,MAAA,IAAEE,QAAA,CAAAqB,SAAS,CAAC1B,OAAO;QACzBU,mBAAA,CAA2F;MAArFiB,GAAG,EAAE3B,OAAO,CAAC4B,MAAM;MAAGC,GAAG,EAAE7B,OAAO,CAAC8B,IAAI;MAAEtC,KAAK,EAAC;4BApBrEuC,UAAA,GAqBgBrB,mBAAA,CAAkE,MAAlEsB,UAAkE,EAAAZ,gBAAA,CAApBpB,OAAO,CAAC8B,IAAI,iB,iBArB1EG,UAAA;sCAAAxB,mBAAA,gBAyBmBb,KAAA,CAAAgB,kBAAkB,I,cAA7BlB,mBAAA,CASM,OATNwC,UASM,GARYtC,KAAA,CAAAuC,WAAW,Q,cAAzBzC,mBAAA,CAGS;IA7BrBD,GAAA;IA0B4CgC,OAAK,EAAAvB,MAAA,QAAAA,MAAA,UAAAkC,IAAA,KAAE/B,QAAA,CAAAgC,QAAA,IAAAhC,QAAA,CAAAgC,QAAA,IAAAD,IAAA,CAAQ;IAC3C5C,KAAK,EAAC;KAAqF,YAE/F,KA7BZiB,mBAAA,gBA8B0Bb,KAAA,CAAAuC,WAAW,GAAG9B,QAAA,CAAAiC,UAAU,I,cAAtC5C,mBAAA,CAGS;IAjCrBD,GAAA;IA8BqDgC,OAAK,EAAAvB,MAAA,QAAAA,MAAA,UAAAkC,IAAA,KAAE/B,QAAA,CAAAkC,QAAA,IAAAlC,QAAA,CAAAkC,QAAA,IAAAH,IAAA,CAAQ;IACpD5C,KAAK,EAAC;KAAqF,QAE/F,KAjCZiB,mBAAA,e,KAAAA,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}